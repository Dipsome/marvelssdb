{{ deck.name }}

{% if deck.investigator %}{{ deck.investigator.name }}{% endif %}

{% set first_pack = deck.included_packs|first %}
{% set last_pack = deck.included_packs|last %}
Packs: {% if deck.included_packs|length > 1 %}
From {{ first_pack.pack.name }}{% if first_pack.nb > 1 %} ({{ first_pack.nb }}){% endif %} to {{ last_pack.pack.name }}{% if last_pack.nb > 1 %} ({{ last_pack.nb }}){% endif %}
{% else %}
{{ first_pack.pack.name }}{% if first_pack.nb > 1 %} ({{ first_pack.nb }}){% endif %}
{% endif %}


{% set upgrades = deck.slots_by_type.upgrade %}
{% if upgrades|length > 0 %}
Upgrade{% if upgrades|length > 1 %}s{% endif %}

{% for slot in upgrades %}
{{ slot.quantity }}x {{ slot.card.name }} ({{ slot.card.pack.name }})
{% endfor %}
{% endif %}

{% set events = deck.slots_by_type.event %}
{% if events|length > 0 %}
Event{% if events|length > 1 %}s{% endif %}

{% for slot in events %}
{{ slot.quantity }}x {{ slot.card.name }}{% if slot.card.subname %}:{{slot.card.subname}}{% endif %} ({{ slot.card.pack.name }})
{% endfor %}
{% endif %}

{% set supports = deck.slots_by_type.support %}
{% if supports|length > 0 %}
Support{% if supports|length > 1 %}s{% endif %}

{% for slot in supports %}
{{ slot.quantity }}x {{ slot.card.name }} ({{ slot.card.pack.name }})
{% endfor %}
{% endif %}

{% set allies = deck.slots_by_type.ally %}
{% if allies|length > 0 %}

{% if allies|length == 1 %}Ally{% endif %}
{% if allies|length > 1 %}Allies{% endif %}

{% for slot in allies %}
{{ slot.quantity }}x {{ slot.card.name }} ({{ slot.card.pack.name }})
{% endfor %}
{% endif %}


{{ footer|default('') }}